{"version":3,"sources":["index.js"],"names":["searchquery","Component","React","render","ReactDOM","LOAD_STATE","SUCCESS","ERROR","LOADING","App","props","_this","obj","key","value","Object","_media_santoshi_New_Volume_edyst_weekend_3_react_unsplash_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_media_santoshi_New_Volume_edyst_weekend_3_react_unsplash_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_media_santoshi_New_Volume_edyst_weekend_3_react_unsplash_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","_media_santoshi_New_Volume_edyst_weekend_3_react_unsplash_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__","event","preventDefault","document","getElementById","state","updated","console","log","fetchPhotos","defineProperty","enumerable","configurable","writable","photos","totalPhotos","perPage","currentPage","count","loadState","page","baseUrl","_this2","self","options","params","client_id","appId","per_page","query","setState","axios","get","then","response","data","parseInt","headers","catch","results","createElement","className","type","placeholder","id","href","onClick","submitSearch","Pagination","current","total","onPageChanged","bind","List","ListItem","_ref","photo","src","urls","small","alt","user","profile_image","portfolio_url","target","name","_ref2","items","map","pages","i","rangeStart","rangeEnd","push","start","pageRange","end","totalPages","Math","ceil","_this3","hasPrev","e","changePage","prevPage","hasFirst","index","hasLast","hasNext","nextPage","defaultProps"],"mappings":"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","file":"static/js/main.56f4efab.chunk.js","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport axios from 'axios';\nimport './index.css'\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\n\nconst { Component } = React;\nconst { render } = ReactDOM;\nvar searchquery;\n\nconst LOAD_STATE = {\n  SUCCESS: \"SUCCESS\",\n  ERROR: \"ERROR\",\n  LOADING: \"LOADING\"\n};\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    _defineProperty(\n      this,\n      \"submitSearch\",\n\n      event => {\n        event.preventDefault();\n        searchquery = document.getElementById(\"box\").value;\n        if (searchquery) this.state.updated = true;\n        else this.state.updated = false;\n        console.log(\"Button was clicked!\");\n        this.fetchPhotos(1);\n      }\n    );\n    this.state = {\n      photos: [],\n      totalPhotos: 0,\n      perPage: 5,\n      currentPage: 1,\n      count: 0,\n      updated: false,\n      loadState: LOAD_STATE.LOADING\n    };\n  }\n  componentDidMount() {\n    this.fetchPhotos(this.state.currentPage);\n  }\n  fetchPhotos(page) {\n    var self = this;\n    const { perPage } = this.state;\n    const { appId } = this.props;\n    var baseUrl;\n    const options = {\n      params: {\n        client_id: appId,\n        page: page,\n        per_page: perPage,\n        query: searchquery\n      }\n    };\n    this.setState({ loadState: LOAD_STATE.LOADING });\n    if (this.state.updated === false) {\n      baseUrl = \"https://api.unsplash.com/photos/curated\";\n      axios\n        .get(baseUrl, options)\n        .then(response => {\n          self.setState({\n            photos: response.data,\n            totalPhotos: parseInt(response.headers[\"x-total\"]),\n            currentPage: page,\n            loadState: LOAD_STATE.SUCCESS\n          });\n        })\n        .catch(() => {\n          this.setState({ loadState: LOAD_STATE.ERROR });\n        });\n    } else {\n      baseUrl = \"https://api.unsplash.com/search/photos\";\n      axios\n        .get(baseUrl, options)\n        .then(response => {\n          self.setState({\n            photos: response.data.results,\n            totalPhotos: parseInt(response.headers[\"x-total\"]),\n            currentPage: page,\n            loadState: LOAD_STATE.SUCCESS\n          });\n        })\n        .catch(() => {\n          this.setState({ loadState: LOAD_STATE.ERROR });\n        });\n    }\n  }\n\n  render() {\n    return React.createElement(\n      \"div\",\n      { className: \"app\" },\n      React.createElement(\n        \"div\",\n        { className: \"search\" },\n        React.createElement(\n          \"form\",\n          { className: \"search1\" },\n          React.createElement(\"input\", {\n            type: \"text\",\n            placeholder: \" search..\",\n            id: \"box\"\n          }),\n          React.createElement(\n            \"a\",\n            { href: \"#\" },\n            React.createElement(\n              \"button\",\n              {\n                className: \"button\",\n                placeholder: \"search\",\n                onClick: this.submitSearch\n              },\n              \"\\uD83D\\uDD0D\"\n            )\n          )\n        )\n      ),\n\n      React.createElement(Pagination, {\n        current: this.state.currentPage,\n        total: this.state.totalPhotos,\n        perPage: this.state.perPage,\n        onPageChanged: this.fetchPhotos.bind(this)\n      }),\n\n      this.state.loadState === LOAD_STATE.LOADING\n        ? React.createElement(\"div\", { className: \"loader\" })\n        : React.createElement(List, { data: this.state.photos })\n    );\n  }\n}\n\nconst ListItem = ({ photo }) => {\n  return React.createElement(\n    \"div\",\n    { key: photo.id, className: \"grid__item card\" },\n    React.createElement(\n      \"div\",\n      { className: \"card__body\" },\n      React.createElement(\"img\", { src: photo.urls.small, alt: \"\" })\n    ),\n\n    React.createElement(\n      \"div\",\n      { className: \"card__footer media\" },\n      React.createElement(\"img\", {\n        src: photo.user.profile_image.small,\n        alt: \"\",\n        className: \"media__obj\"\n      }),\n      React.createElement(\n        \"div\",\n        { className: \"media__body\" },\n        React.createElement(\n          \"a\",\n          { href: photo.user.portfolio_url, target: \"_blank\" },\n          photo.user.name\n        )\n      )\n    )\n  );\n};\n\nconst List = ({ data }) => {\n  var items = data.map(photo =>\n    React.createElement(ListItem, { key: photo.id, photo: photo })\n  );\n  return React.createElement(\"div\", { className: \"grid\" }, items);\n};\n\nclass Pagination extends Component {\n  pages() {\n    var pages = [];\n    for (var i = this.rangeStart(); i <= this.rangeEnd(); i++) {\n      pages.push(i);\n    }\n    return pages;\n  }\n\n  rangeStart() {\n    var start = this.props.current - this.props.pageRange;\n    return start > 0 ? start : 1;\n  }\n\n  rangeEnd() {\n    var end = this.props.current + this.props.pageRange;\n    var totalPages = this.totalPages();\n    return end < totalPages ? end : totalPages;\n  }\n\n  totalPages() {\n    return Math.ceil(this.props.total / this.props.perPage);\n  }\n\n  nextPage() {\n    return this.props.current + 1;\n  }\n\n  prevPage() {\n    return this.props.current - 1;\n  }\n\n  hasFirst() {\n    return this.rangeStart() !== 1;\n  }\n\n  hasLast() {\n    return this.rangeEnd() < this.totalPages();\n  }\n\n  hasPrev() {\n    return this.props.current > 1;\n  }\n\n  hasNext() {\n    return this.props.current < this.totalPages();\n  }\n\n  changePage(page) {\n    this.props.onPageChanged(page);\n  }\n\n  render() {\n    return React.createElement(\n      \"div\",\n      { className: \"pagination\" },\n      React.createElement(\n        \"div\",\n        { className: \"pagination__left\" },\n        React.createElement(\n          \"a\",\n          {\n            href: \"#\",\n            className: !this.hasPrev() ? \"hidden\" : \"\",\n            onClick: e => this.changePage(this.prevPage())\n          },\n          \"Prev\"\n        )\n      ),\n\n      React.createElement(\n        \"div\",\n        { className: \"pagination__mid\" },\n        React.createElement(\n          \"ul\",\n          null,\n          React.createElement(\n            \"li\",\n            { className: !this.hasFirst() ? \"hidden\" : \"\" },\n            React.createElement(\n              \"a\",\n              { href: \"#\", onClick: e => this.changePage(1) },\n              \"1\"\n            )\n          ),\n\n          React.createElement(\n            \"li\",\n            { className: !this.hasFirst() ? \"hidden\" : \"\" },\n            \"...\"\n          ),\n\n          this.pages().map((page, index) => {\n            return React.createElement(\n              \"li\",\n              { key: index },\n              React.createElement(\n                \"a\",\n                {\n                  href: \"#\",\n                  onClick: e => this.changePage(page),\n                  className: this.props.current === page ? \"current\" : \"\"\n                },\n                page\n              )\n            );\n          }),\n\n          React.createElement(\n            \"li\",\n            { className: !this.hasLast() ? \"hidden\" : \"\" },\n            \"...\"\n          ),\n          React.createElement(\n            \"li\",\n            { className: !this.hasLast() ? \"hidden\" : \"\" },\n            React.createElement(\n              \"a\",\n              { href: \"#\", onClick: e => this.changePage(this.totalPages()) },\n              this.totalPages()\n            )\n          )\n        )\n      ),\n\n      React.createElement(\n        \"div\",\n        { className: \"pagination__right\" },\n        React.createElement(\n          \"a\",\n          {\n            href: \"#\",\n            className: !this.hasNext() ? \"hidden\" : \"\",\n            onClick: e => this.changePage(this.nextPage())\n          },\n          \"Next\"\n        )\n      )\n    );\n  }\n}\nPagination.defaultProps = {\n  pageRange: 2\n};\n\nrender(\n  React.createElement(App, {\n    appId: \"2db28eec55a4d596ead5f1616ec51fd22163412ab27906b7a9a6e6c8ebf23031\"\n  }),\n\n  document.getElementById(\"mount-point\")\n);\n"],"sourceRoot":""}